# ğŸ¤– Cursor Agent é–‹ç™¼è¦ç¯„

## ğŸ“‹ å°ˆæ¡ˆæ¨™æº–åŒ–è¦ç¯„
é€™å€‹å°ˆæ¡ˆæ˜¯ä¸€å€‹å»£å‘Šè‡ªå‹•åŒ–å¹³å°ï¼Œå…·æœ‰é«˜åº¦æ¨™æº–åŒ–çš„æ¶æ§‹æ¨¡å¼ã€‚æ‰€æœ‰ AI Agent é–‹ç™¼æ™‚å¿…é ˆåš´æ ¼éµå¾ªä»¥ä¸‹è¦ç¯„ã€‚

## ğŸ¯ æ–°å»£å‘Šé¡å‹é–‹ç™¼æ¨™æº–æµç¨‹

### éšæ®µ 1ï¼šéœ€æ±‚æ”¶é›† (å¿…é ˆå®Œæˆ)
ç•¶ç”¨æˆ¶è¦æ±‚é–‹ç™¼æ–°å»£å‘Šé¡å‹æ™‚ï¼Œå¿…é ˆæ”¶é›†ä»¥ä¸‹å®Œæ•´è³‡è¨Šï¼š

```yaml
å»£å‘Šé¡å‹å®šç¾©:
  ad_type: "è‹±æ–‡åç¨± (snake_case æ ¼å¼)"
  chinese_name: "ç¹é«”ä¸­æ–‡é¡¯ç¤ºåç¨±"
  icon: "å»£å‘Šåœ–ç¤º (emoji)"
  interaction_type: "interactive_widget|slide_animation|popup_video|countdown_timer|simple_display"
  payload_type: "payload_game_widget|payload_vote_widget|payload_popup_json"
  
ç‰¹æ®Šæ¬„ä½å®šç¾© (è‡³å°‘1å€‹):
  - name: "æ¬„ä½åç¨± (snake_case)"
    type: "text|url|number|color|select"
    label: "é¡¯ç¤ºæ¨™ç±¤"
    required: true|false
    default_value: "é è¨­å€¼"
    placeholder: "è¼¸å…¥æç¤º"
    help_text: "æ¬„ä½èªªæ˜"
```

### éšæ®µ 2ï¼šä½¿ç”¨æ¨™æº–åŒ–ç”Ÿæˆå™¨
**å¿…é ˆä½¿ç”¨** `workflows/templates/standard_ad_template.py` ä¸­çš„ `AdTemplateGenerator` é¡ï¼š

```python
from workflows.templates.standard_ad_template import AdTemplateGenerator

generator = AdTemplateGenerator()
result = generator.generate_complete_ad_type(ad_definition)
```

### éšæ®µ 3ï¼šæª”æ¡ˆç”Ÿæˆé †åº
1. **ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶**: `templates/{ad_type}_ad.html`
2. **æ›´æ–°è·¯ç”±**: åœ¨ `app/routes/main.py` æœ«å°¾æ·»åŠ è·¯ç”±ä»£ç¢¼
3. **æ›´æ–°å°èˆª**: åœ¨ `templates/base.html` çš„å°èˆªå€æ·»åŠ é€£çµ
4. **æ¸¬è©¦é©—è­‰**: ç¢ºèªé é¢è¼‰å…¥å’ŒåŸºæœ¬åŠŸèƒ½æ­£å¸¸

## ğŸ—ï¸ æ¶æ§‹å¼·åˆ¶ç´„å®š

### æª”æ¡ˆå‘½åç´„å®š
```
æ¨¡æ¿æª”æ¡ˆ: templates/{ad_type}_ad.html
è·¯ç”±åç¨±: /{ad_type}-ad, /create-{ad_type}-ad, /clear-{ad_type}-form
å‡½æ•¸åç¨±: {ad_type}_ad(), create_{ad_type}_ad(), clear_{ad_type}_form()
Session Key: {ad_type}_form_data
```

### HTML çµæ§‹ç´„å®š (å¼·åˆ¶ä½¿ç”¨)
```html
{% extends "base.html" %}
{% block title %}{chinese_name}å»ºç«‹{% endblock %}

{% block content %}
<div class="main-content-wrapper">
    <div class="form-column">
        <!-- è¡¨å–®å€åŸŸ -->
        <div class="field-group">
            <h3>ğŸ“‹ åŸºæœ¬å»£å‘Šè³‡è¨Š</h3>
            <!-- æ¨™æº–åŸºæœ¬æ¬„ä½ -->
        </div>
        
        <div class="field-group">
            <h3>å»£å‘Šç´ æ</h3>
            <!-- æ¨™æº–ç´ ææ¬„ä½ -->
        </div>
        
        <div class="field-group">
            <h3>âš™ï¸ {chinese_name}è¨­å®š</h3>
            <!-- ç‰¹æ®Šæ¬„ä½å€åŸŸ -->
        </div>
    </div>
    
    <div class="preview-column">
        <!-- é è¦½å€åŸŸ -->
    </div>
</div>
{% endblock %}

{% block additional_scripts %}
<!-- æ¨™æº–åŒ– JavaScript -->
{% endblock %}
```

### CSS é¡åˆ¥ç´„å®š (å¼·åˆ¶ä½¿ç”¨)
```css
.main-content-wrapper    /* ä¸»å®¹å™¨ */
.form-column            /* è¡¨å–®æ¬„ä½ */
.preview-column         /* é è¦½æ¬„ä½ */
.field-group            /* å€åŸŸåˆ†çµ„ */
.form-grid-2            /* é›™æ¬„ç¶²æ ¼ */
.form-grid-3            /* ä¸‰æ¬„ç¶²æ ¼ */
.form-row               /* è¡¨å–®è¡Œ */
.help-text              /* å¹«åŠ©æ–‡å­— */
.clear-form-btn         /* æ¸…é™¤æŒ‰éˆ• */
```

### JavaScript ç´„å®š (å¼·åˆ¶å¯¦ä½œ)
```javascript
// å¿…é ˆå¯¦ä½œçš„å‡½æ•¸
function debounce(func, wait) { /* é˜²æŠ–å‡½æ•¸ */ }
const autoSaveForm = debounce(() => { /* è‡ªå‹•å„²å­˜ */ }, 500);
function updatePreview() { /* å³æ™‚é è¦½ */ }
function updatePayload() { /* Payload ç”Ÿæˆ */ }

// å¿…é ˆçš„äº‹ä»¶ç›£è½å™¨
document.addEventListener('DOMContentLoaded', function() {
    // åˆå§‹åŒ–é‚è¼¯
});
```

### è·¯ç”±ç´„å®š (å¼·åˆ¶æ ¼å¼)
```python
@main_bp.route('/{ad_type}-ad')
def {ad_type}_ad():
    """é¡¯ç¤º {chinese_name} å‰µå»ºé é¢"""
    form_data = session.get('{ad_type}_form_data', {})
    return render_template('{ad_type}_ad.html', **form_data)

@main_bp.route('/create-{ad_type}-ad', methods=['POST'])
def create_{ad_type}_ad():
    """è™•ç† {chinese_name} å‰µå»ºè«‹æ±‚"""
    # æ¨™æº–åŒ–è™•ç†é‚è¼¯
    
@main_bp.route('/clear-{ad_type}-form', methods=['POST'])
def clear_{ad_type}_form():
    """æ¸…é™¤ {chinese_name} è¡¨å–®æ•¸æ“š"""
    # æ¨™æº–åŒ–æ¸…é™¤é‚è¼¯
```

## ğŸš« ç¦æ­¢äº‹é …

### çµ•å°ä¸å¯ä»¥åšçš„äº‹ï¼š
1. **ä¸å¯ä¿®æ”¹åŸºç¤æ¶æ§‹**: ä¸å¾—ä¿®æ”¹ `base.html` çš„æ ¸å¿ƒçµæ§‹
2. **ä¸å¯å‰µå»ºæ–°çš„ CSS é¡åˆ¥**: å¿…é ˆä½¿ç”¨ç¾æœ‰çš„æ¨™æº–åŒ– CSS é¡åˆ¥
3. **ä¸å¯è·³éé©—è­‰**: å¿…é ˆå®Œæˆæ‰€æœ‰æª¢æŸ¥æ¸…å–®é …ç›®
4. **ä¸å¯ä½¿ç”¨éæ¨™æº–å‘½å**: æ‰€æœ‰å‘½åå¿…é ˆç¬¦åˆç´„å®š
5. **ä¸å¯çœç•¥éŒ¯èª¤è™•ç†**: å¿…é ˆåŒ…å«å®Œæ•´çš„ try-catch é‚è¼¯

### ä»£ç¢¼å“è³ªè¦æ±‚ï¼š
1. **100% ä½¿ç”¨ç¹é«”ä¸­æ–‡**: æ‰€æœ‰ä½¿ç”¨è€…ä»‹é¢æ–‡å­—
2. **å®Œæ•´çš„éŒ¯èª¤è™•ç†**: æ¯å€‹è·¯ç”±éƒ½å¿…é ˆæœ‰ try-catch
3. **Session ç®¡ç†**: å¿…é ˆå¯¦ä½œè¡¨å–®ç‹€æ…‹ä¿å­˜
4. **å³æ™‚é è¦½**: å¿…é ˆå¯¦ä½œå³æ™‚é è¦½åŠŸèƒ½
5. **è‡ªå‹•å„²å­˜**: å¿…é ˆå¯¦ä½œé˜²æŠ–è‡ªå‹•å„²å­˜

## âœ… Agent æˆåŠŸæª¢æŸ¥æ¸…å–®

### ç”Ÿæˆå®Œæˆå¾Œå¿…é ˆé©—è­‰ï¼š
```markdown
### æª”æ¡ˆæª¢æŸ¥ âœ…
- [ ] templates/{ad_type}_ad.html å·²ç”Ÿæˆä¸”èªæ³•æ­£ç¢º
- [ ] è·¯ç”±ä»£ç¢¼å·²æ­£ç¢ºæ·»åŠ åˆ° app/routes/main.py
- [ ] å°èˆªé€£çµå·²æ·»åŠ åˆ° base.html
- [ ] æ‰€æœ‰æª”æ¡ˆä½¿ç”¨ UTF-8 ç·¨ç¢¼

### çµæ§‹æª¢æŸ¥ âœ…
- [ ] æ¨¡æ¿æ­£ç¢ºç¹¼æ‰¿ base.html
- [ ] ä½¿ç”¨æ¨™æº–åŒ– CSS é¡åˆ¥
- [ ] ä¸‰å€åŸŸè¡¨å–®çµæ§‹å®Œæ•´
- [ ] JavaScript åŒ…å«æ‰€æœ‰å¿…è¦å‡½æ•¸

### åŠŸèƒ½æª¢æŸ¥ âœ…
- [ ] é é¢è¼‰å…¥ç„¡éŒ¯èª¤
- [ ] è¡¨å–®æäº¤åŠŸèƒ½æ­£å¸¸
- [ ] é è¦½åŠŸèƒ½é‹ä½œ
- [ ] æ¸…é™¤è¡¨å–®åŠŸèƒ½æ­£å¸¸
- [ ] Session å„²å­˜æ©Ÿåˆ¶æ­£å¸¸

### å‘½åæª¢æŸ¥ âœ…
- [ ] æ‰€æœ‰å‘½åç¬¦åˆ snake_case ç´„å®š
- [ ] è·¯ç”± URL æ ¼å¼æ­£ç¢º
- [ ] å‡½æ•¸å‘½åç¬¦åˆç´„å®š
- [ ] è®Šæ•¸å‘½åä¸€è‡´
```

## ğŸ¯ æ•ˆç‡ç›®æ¨™

### é–‹ç™¼æ™‚é–“æ¨™æº–ï¼š
- **éœ€æ±‚æ”¶é›†**: â‰¤ 5 åˆ†é˜
- **ä»£ç¢¼ç”Ÿæˆ**: â‰¤ 10 åˆ†é˜
- **æ¸¬è©¦é©—è­‰**: â‰¤ 5 åˆ†é˜
- **ç¸½é–‹ç™¼æ™‚é–“**: â‰¤ 20 åˆ†é˜

### å“è³ªæ¨™æº–ï¼š
- **åŠŸèƒ½å®Œæ•´æ€§**: 100%
- **æ¶æ§‹ä¸€è‡´æ€§**: 100%
- **å‘½åè¦ç¯„æ€§**: 100%
- **æ¸¬è©¦é€šéç‡**: 100%

## ğŸ“ ä½¿ç”¨æ–¹å¼

ç•¶ç”¨æˆ¶è¦æ±‚é–‹ç™¼æ–°å»£å‘Šé¡å‹æ™‚ï¼Œå›æ‡‰æ ¼å¼ï¼š

```markdown
### é–‹å§‹æ–°å»£å‘Šé¡å‹é–‹ç™¼

æˆ‘å°‡ä½¿ç”¨æ¨™æº–åŒ– workflow ç‚ºæ‚¨é–‹ç™¼ {å»£å‘Šé¡å‹} å»£å‘Šã€‚

**æ”¶é›†åˆ°çš„éœ€æ±‚ï¼š**
- å»£å‘Šé¡å‹ï¼š{ad_type}
- ä¸­æ–‡åç¨±ï¼š{chinese_name}
- ç‰¹æ®Šæ¬„ä½ï¼š{fields_summary}
- Payload é¡å‹ï¼š{payload_type}

**é–‹ç™¼é€²åº¦ï¼š**
âœ… éœ€æ±‚é©—è­‰å®Œæˆ
â³ æ­£åœ¨ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶...
â³ æ­£åœ¨ç”Ÿæˆè·¯ç”±ä»£ç¢¼...
â³ æ­£åœ¨æ›´æ–°å°èˆª...
â³ æ­£åœ¨é©—è­‰åŠŸèƒ½...

**å®Œæˆç‹€æ…‹ï¼š**
âœ… æ¨¡æ¿æ–‡ä»¶ï¼štemplates/{ad_type}_ad.html
âœ… è·¯ç”±æ›´æ–°ï¼š3å€‹æ¨™æº–è·¯ç”±å·²æ·»åŠ 
âœ… å°èˆªæ›´æ–°ï¼šå·²æ·»åŠ  {icon} {chinese_name} é€£çµ
âœ… åŠŸèƒ½æ¸¬è©¦ï¼šæ‰€æœ‰åŸºç¤åŠŸèƒ½æ­£å¸¸
âœ… é–‹ç™¼æ™‚é–“ï¼š{actual_time} åˆ†é˜

ğŸ‰ {chinese_name} å»£å‘Šé¡å‹é–‹ç™¼å®Œæˆï¼
```

## ğŸ”§ è¼”åŠ©å·¥å…·

### å¿…é ˆä½¿ç”¨çš„å·¥å…·ï¼š
1. **AdTemplateGenerator**: è‡ªå‹•åŒ–ä»£ç¢¼ç”Ÿæˆ
2. **æª¢æŸ¥æ¸…å–®**: ç¢ºä¿é–‹ç™¼å®Œæ•´æ€§
3. **é©—è­‰è…³æœ¬**: ç¢ºä¿ä»£ç¢¼å“è³ª

### åƒè€ƒæ–‡ä»¶ï¼š
- `workflows/AGENT_DEVELOPMENT_GUIDE.md`: è©³ç´°é–‹ç™¼æŒ‡å—
- `workflows/FINAL_RECOMMENDED_WORKFLOW.md`: å®Œæ•´å·¥ä½œæµç¨‹
- `workflows/templates/standard_ad_template.py`: æ¨¡æ¿ç”Ÿæˆå™¨

## ğŸ’¡ æœ€ä½³å¯¦è¸

1. **ç¸½æ˜¯å…ˆé©—è­‰éœ€æ±‚å®Œæ•´æ€§**
2. **ä½¿ç”¨æ¨™æº–åŒ–ç”Ÿæˆå™¨é¿å…æ‰‹å·¥ç·¨ç¢¼**
3. **åš´æ ¼éµå¾ªå‘½åç´„å®š**
4. **å®Œæˆé–‹ç™¼å¾Œç«‹å³æ¸¬è©¦**
5. **æä¾›æ¸…æ™°çš„å®Œæˆå ±å‘Š**

éµå¾ªé€™äº›è¦ç¯„ï¼Œç¢ºä¿æ¯æ¬¡å»£å‘Šé¡å‹é–‹ç™¼éƒ½èƒ½ç”¢å‡º**é«˜å“è³ªã€ä¸€è‡´æ€§ã€å¯ç¶­è­·**çš„ä»£ç¢¼ï¼