# 新增廣告類型 Workflow 指南

## 🎯 步驟一：需求分析與分類

### 必要資訊收集清單
在開始開發前，請提供以下資訊：

#### 1. 基本功能需求
- [ ] **廣告名稱**：例如「寶箱廣告」
- [ ] **功能描述**：廣告的核心互動方式
- [ ] **目標用戶體驗**：用戶如何與廣告互動
- [ ] **預期效果**：廣告展示的最終效果

#### 2. 技術規格需求
- [ ] **廣告尺寸**：預覽容器尺寸（如 300x250px）
- [ ] **互動元素**：點擊、滑動、動畫等
- [ ] **媒體需求**：圖片、影片、音效等
- [ ] **特殊效果**：動畫、轉場、計時器等

#### 3. 表單欄位需求
- [ ] **基本欄位**：標題、描述、CTA 按鈕文字
- [ ] **媒體上傳**：需要哪些類型的素材
- [ ] **配置選項**：顏色、大小、位置等客製化選項
- [ ] **進階設定**：時間控制、觸發條件等

#### 4. 預覽功能需求
- [ ] **靜態預覽**：基本外觀展示
- [ ] **互動預覽**：即時預覽用戶互動
- [ ] **響應式預覽**：不同裝置尺寸適配

## 🔍 步驟二：廣告類型判定

### 判定標準
根據收集到的資訊，判定廣告屬於哪一類：

**彈跳影音類 (Popup Video)**
- ✅ 包含影片播放功能
- ✅ 有彈跳視窗或覆蓋層
- ✅ 複雜的多層級內容
- ✅ 影片控制項（播放、暫停等）
- 📁 參考模板：`popup_video_ad.html`

**一般廣告類 (Standard Ads)**
- ✅ 主要為靜態或簡單動態效果
- ✅ 單一層級內容展示
- ✅ 基本互動（點擊、滑動）
- ✅ 標準預覽容器
- 📁 參考模板：`vote_ad.html`

## 🛠️ 步驟三：開發執行

### 3.1 創建路由 (app/routes/main.py)
```python
@main_bp.route('/treasure-box-ad')
def treasure_box_ad():
    """寶箱廣告頁面"""
    return render_template('treasure_box_ad.html')

@main_bp.route('/create-treasure-box-ad', methods=['POST'])
def create_treasure_box_ad():
    """處理寶箱廣告創建"""
    # 實現邏輯

@main_bp.route('/clear-treasure-box-form', methods=['POST'])
def clear_treasure_box_form():
    """清除寶箱廣告表單"""
    # 清除邏輯
```

### 3.2 創建模板 (templates/treasure_box_ad.html)
基於廣告類型選擇對應的模板結構

### 3.3 更新導航 (templates/base.html)
在導航選單中新增連結

## ✅ 步驟四：測試與驗證

### 4.1 功能測試
- [ ] 頁面正常載入
- [ ] 表單驗證正確
- [ ] 預覽功能正常
- [ ] 創建流程完整

### 4.2 架構檢查
- [ ] 路由命名符合規範
- [ ] 模板繼承正確
- [ ] CSS 樣式一致
- [ ] JavaScript 功能正常

## 📋 檢查清單模板

複製以下清單用於每次新增廣告類型：

```markdown
## 寶箱廣告開發檢查清單

### 需求分析 ✅
- [ ] 已收集完整需求資訊
- [ ] 已確定廣告分類
- [ ] 已制定開發計畫

### 開發階段
- [ ] 路由實現：/treasure-box-ad
- [ ] 路由實現：/create-treasure-box-ad
- [ ] 路由實現：/clear-treasure-box-form
- [ ] 模板創建：treasure_box_ad.html
- [ ] 導航更新：base.html
- [ ] 表單邏輯實現
- [ ] 預覽功能實現

### 測試階段
- [ ] 單元測試編寫
- [ ] 路由測試通過
- [ ] 表單驗證測試通過
- [ ] 整合測試通過
- [ ] UI/UX 測試通過

### 文檔更新
- [ ] README.md 更新
- [ ] FEATURE_SUMMARY.md 更新
- [ ] 新增功能說明文檔
```

## 🚀 自動化工具

為了提高效率，可以考慮創建自動化腳本：
- 模板代碼生成器
- 路由自動註冊工具
- 測試框架生成器